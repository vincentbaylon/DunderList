(this.webpackJsonpdunderlist=this.webpackJsonpdunderlist||[]).push([[0],{208:function(e,t,i){},235:function(e,t){},237:function(e,t){},247:function(e,t){},249:function(e,t){},274:function(e,t){},276:function(e,t){},277:function(e,t){},282:function(e,t){},284:function(e,t){},290:function(e,t){},292:function(e,t){},311:function(e,t){},323:function(e,t){},326:function(e,t){},352:function(e,t){},451:function(e,t,i){"use strict";i.r(t);var c=i(1),n=i(199),r=i.n(n),a=(i(208),i(37)),s=i(13),l=i(12),o=i(455),d=i(20),u=i(0),j={backgroundColor:"#0D1F2D",width:"100%",color:"white",paddingTop:"10px",paddingLeft:"10px",display:"flex",height:"75px"},h={flex:"1",fontFamily:"Impact",fontSize:"40px",letterSpacing:".1rem"},m={textAlign:"right",paddingBottom:"10px",paddingRight:"10px",margin:"auto"},p={width:"100px",padding:"12px",margin:"0 6px 6px",color:"white",textDecoration:"none"},b={fontWeight:"bold"};var g=function(e){var t=e.cart,i=e.loggedIn,c=e.setCurrentUser,n=e.setLoggedIn,r=e.setCart,a=e.setLikes;return Object(u.jsxs)("header",{style:j,className:"ui container",children:[Object(u.jsx)("div",{id:"logo",style:h,children:Object(u.jsx)("p",{children:"DunderList"})}),Object(u.jsxs)("div",{id:"navBar",style:m,children:[Object(u.jsx)(d.c,{exact:!0,to:"/",style:p,activeStyle:b,children:"Shop"}),Object(u.jsx)(d.c,{to:"/sell",style:p,activeStyle:b,children:"Sell"}),Object(u.jsx)(d.c,{to:"/about",style:p,activeStyle:b,children:"About"}),Object(u.jsxs)(d.c,{to:"/cart",style:p,activeStyle:b,children:["Cart ",t.length>0?"(".concat(t.length,")"):""]}),i?Object(u.jsx)("button",{className:"ui black tiny button",onClick:function(){c(null),n(!1),r([]),a([])},style:p,children:"Logout"}):Object(u.jsx)(d.c,{to:"/login",style:p,activeStyle:b,children:"Login"})]})]})};var f=function(e){var t=e.setFilter,i=e.filter,c=e.sideBarElementStyle,n={marginTop:"10px",marginBottom:"10px",marginRight:"90px"},r=["Food","Home","Apparel","Entertainment","Miscellaneous"].map((function(e){return Object(u.jsxs)("div",{style:n,className:"ui checkbox",id:"catFilter",children:[Object(u.jsx)("input",{type:"checkbox",name:e,onChange:s}),Object(u.jsx)("label",{children:e},e)]})}));function s(e){if(e.target.checked)t([].concat(Object(a.a)(i),[e.target.name]));else{var c=i.filter((function(t){return t!==e.target.name}));t(c)}}return Object(u.jsxs)("div",{style:c,className:"ui vertical",children:[Object(u.jsx)("h4",{children:"Filter:"}),Object(u.jsx)("p",{className:"ui meta",children:"By Cateogry"}),r]})};var x=function(e){var t=e.product,i=e.addToCart,n=e.removeFromCart,r=e.cart,a=e.addLikes,l=e.userLiked,o=e.removeLikes,d=t.id,j=t.title,h=t.image,m=t.seller,p=t.price,b=(t.category,t.comments,t.inCart,t.inStock),g=Object(c.useState)(!1),f=Object(s.a)(g,2),x=f[0],O=f[1];return Object(u.jsxs)("div",{className:"ui card",style:{margin:"5px",textAlign:"center",padding:"5px",boxShadow:"0 1px 3px 0 #F4F7F5, 0 0 0 1px #F4F7F5"},children:[Object(u.jsx)("i",{onClick:function(){l?(o(d),l=!l):(a(d),l=!l)},className:l?"heart icon":" heart outline icon"}),Object(u.jsx)("img",{src:h,className:"ui small centered image",style:{overflow:"hidden",objectFit:"cover",height:"140px",width:"140px"}}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{className:"ui header",children:j}),Object(u.jsx)("h5",{className:"ui header",children:m}),Object(u.jsxs)("h5",{className:"ui header",children:["$",p]}),Object(u.jsx)("button",{disabled:b?"":"disabled",className:"ui button",onClick:function(){r.includes(d)?n(d):i(d),O(!x)},children:b?r.includes(d)?"Remove from Cart":"Add to Cart":"Out of Stock"})]})]})};var O=function(e){var t=e.products,i=e.addToCart,c=e.removeFromCart,n=e.cart,r=e.addLikes,a=e.likes,s=e.removeLikes;return Object(u.jsx)("div",{className:"ui three column grid",style:{marginTop:"20px"},children:t.map((function(e){return Object(u.jsx)(x,{product:e,addToCart:i,removeFromCart:c,cart:n,addLikes:r,removeLikes:s,userLiked:!!a.includes(e.id)},e.id)}))})};var v=function(e){var t=e.search,i=e.setSearch,c=e.sideBarElementStyle;return Object(u.jsxs)("div",{className:"ui icon input",style:c,id:"searchDiv",children:[Object(u.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:function(e){return i(e.target.value)}}),Object(u.jsx)("i",{"aria-hidden":"true",className:"search icon"})]})};var y=function(e){var t=e.setSort,i=e.sideBarElementStyle;return Object(u.jsxs)("div",{style:i,id:"sortDiv",children:[Object(u.jsx)("h4",{children:"Sort:"}),Object(u.jsxs)("select",{name:"sort",id:"sort","aria-label":"sort",onChange:function(e){t(e.target.value)},className:"ui selection dropdown",children:[Object(u.jsx)("option",{value:"relevant",children:"Relevant"}),Object(u.jsx)("option",{value:"priceHighLow",children:"Price High to Low"}),Object(u.jsx)("option",{value:"priceLowHigh",children:"Price Low to High"})]})]})};var S=function(e){var t=e.sellerNames,i=e.sideBarElementStyle,c=e.setSellerFilter,n=e.sellerFilter,r=t.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}));return Object(u.jsxs)("div",{style:i,id:"sellerFilterDiv",children:[Object(u.jsx)("p",{className:"ui meta",children:"By Seller"}),Object(u.jsxs)("select",{name:"seller-filter",id:"seller-filter","aria-label":"seller filter",className:"ui selection dropdown",onChange:function(e){c(e.target.value)},value:n,children:[Object(u.jsx)("option",{value:"all",children:"All"}),r]})]})};var C=function(e){var t=e.products,i=e.search,c=e.setSearch,n=e.setFilter,r=e.addToCart,a=e.removeFromCart,s=e.setSort,l=e.filter,o=e.cart,d=e.sellerNames,j=e.setSellerFilter,h=e.sellerFilter,m=e.addLikes,p=e.likes,b=e.removeLikes,g={marginTop:"20px",marginBottom:"10px"};return Object(u.jsxs)("div",{className:"ui ",children:[Object(u.jsxs)("div",{className:"column",style:{float:"left",height:"100%",width:"15%",padding:"20px",marginTop:"20px",minWidth:"225px"},id:"leftNav",children:[Object(u.jsx)(v,{seach:i,setSearch:c,sideBarElementStyle:g}),Object(u.jsx)(y,{setSort:s,sideBarElementStyle:g}),Object(u.jsx)(f,{filter:l,setFilter:n,sideBarElementStyle:g}),Object(u.jsx)(S,{sellerNames:d,sideBarElementStyle:g,setSellerFilter:j,sellerFilter:h})]}),Object(u.jsx)(O,{products:t,addToCart:r,removeFromCart:a,cart:o,addLikes:m,likes:p,removeLikes:b})]})},N=i(53),k=i(36);var w=function(e){var t=e.addProduct,i=e.sellerNames,n=e.currentUser,r=Object(c.useState)({title:"",image:"",price:0,category:"default",seller:"default",comments:[],inCart:!1,inStock:!0}),a=Object(s.a)(r,2),l=a[0],o=a[1];function d(e){var t=e.target.name,i=e.target.value;o(Object(k.a)(Object(k.a)({},l),{},Object(N.a)({},t,i)))}var j=i.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}));return Object(u.jsxs)("div",{className:"ui center aligned container",style:{width:"40%"},children:[Object(u.jsx)("br",{}),Object(u.jsx)("h2",{children:"Add Your Product"}),Object(u.jsx)("br",{}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),null!==n?(fetch("http://localhost:3000/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){return t(e)})),alert("Product successfully added"),o({title:"",image:"",price:"",category:"default",seller:"default"})):alert("Please sign in to submit a new product")},className:"ui form",children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("input",{onChange:d,value:l.title,type:"text",name:"title",placeholder:"Product Name"})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("input",{onChange:d,value:l.image,type:"text",name:"image",placeholder:"Image Url"})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("input",{onChange:function(e){o(Object(k.a)(Object(k.a)({},l),{},{price:e.target.valueAsNumber}))},value:l.price,type:"number",step:"0.01",name:"price",placeholder:"Price"})}),Object(u.jsxs)("div",{className:"equal width fields",children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("select",{name:"category",id:"category","aria-label":"Category",value:l.category,onChange:d,children:[Object(u.jsx)("option",{value:"default",children:"Select a Category"}),Object(u.jsx)("option",{value:"Food",children:"Food"}),Object(u.jsx)("option",{value:"Home",children:"Home"}),Object(u.jsx)("option",{value:"Apparel",children:"Apparel"}),Object(u.jsx)("option",{value:"Entertainment",children:"Entertainment"}),Object(u.jsx)("option",{value:"Miscellaneous",children:"Miscellaneous"})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("select",{name:"seller",id:"seller","aria-label":"Sellers",value:l.seller,onChange:d,children:[Object(u.jsx)("option",{value:"default",children:"Select a Seller"}),j]})})]}),Object(u.jsx)("input",{className:"ui button",type:"submit",value:"Submit"})]})]})};var _=function(e){var t=e.seller,i=e.setSellerFilter,c=e.products,n=Object(l.f)(),r=c.find((function(e){return e.seller===t.name}));return Object(u.jsxs)("div",{className:"ui card",style:{margin:"5px",textAlign:"center",padding:"5px",float:"left",overflow:"hidden",boxShadow:"0 1px 3px 0 #F4F7F5, 0 0 0 1px #F4F7F5"},children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:t.image.medium,className:"ui small centered image",alt:t.name,style:{overflow:"hidden",objectFit:"cover",height:"140px",width:"140px",borderRadius:"50%",objectPosition:"-10% 0"}})}),Object(u.jsx)("h3",{className:"ui header",children:t.name}),r?Object(u.jsxs)("button",{className:"ui basic button",onClick:function(){i(t.name),n.push("/")},style:{boxShadow:"none",textDecoration:"underline"},children:["See ",t.name.split(" ",1),"'s products"]}):Object(u.jsxs)("p",{className:"ui meta",children:[t.name.split(" ",1)," doesn't have any products for sale"]})]})};var F=function(e){var t=e.sellers,i=e.setSellerFilter,c=e.products,n=t.map((function(e){return null!==e.image?Object(u.jsx)(_,{seller:e,setSellerFilter:i,products:c},e.id):null}));return Object(u.jsx)("div",{className:"ui relaxed centered three column grid",children:n})};var T=function(e){var t=e.sellers,i=e.setSellerFilter,c=e.products;return Object(u.jsxs)("div",{className:"ui center aligned container",children:[Object(u.jsx)("br",{}),Object(u.jsx)("h2",{children:"About"}),Object(u.jsx)("p",{children:"DunderList is an online marketplace where employees of Dunder Mifflin (Scranton branch) can buy and sell items."}),Object(u.jsx)("br",{}),Object(u.jsx)("h2",{children:"Meet the Sellers"}),Object(u.jsx)("br",{}),Object(u.jsx)(F,{sellers:t,setSellerFilter:i,products:c})]})};var L=function(e){var t=e.product,i=e.removeFromCart,c=t.title,n=t.price,r=t.image,a=t.id;return Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{style:{width:"40%",padding:"10px"},className:"ui raised segment",children:[Object(u.jsx)("div",{className:"column",style:{width:"20%",float:"left"},children:Object(u.jsx)("img",{src:r,className:"ui tiny image",style:{overflow:"hidden",objectFit:"cover",height:"80px",width:"80px"}})}),Object(u.jsx)("div",{className:"column",style:{float:"left",width:"60%",paddingTop:"7%",textAlign:"left",paddingLeft:"5px"},children:Object(u.jsxs)("h5",{children:[c," \xa0\xa0\xa0\xa0\xa0\xa0 $",n]})}),Object(u.jsx)("div",{className:"column",style:{paddingTop:"5%"},children:Object(u.jsx)("button",{className:"ui tiny button",onClick:function(){i(a)},style:{width:"10%"},children:Object(u.jsx)("i",{className:"close icon"})})})]})})},A=["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"],P={width:"23px"},M={width:"28px"},H={width:"30px"},B={width:"50%"},D={textDecoration:"underline"},E=i(217);var I=function(e){var t=e.cart,i=e.products,n=e.removeFromCart,r=e.setCart,a=e.currentUser;E.setTaxOriginCountry("US");var l=Object(c.useState)(""),o=Object(s.a)(l,2),j=o[0],h=o[1],m=Object(c.useState)(0),p=Object(s.a)(m,2),b=p[0],g=p[1],f=i.filter((function(e){return t.includes(e.id)})),x=f.map((function(e){return Object(u.jsx)(L,{product:e,removeFromCart:n},e.id)})),O=Number.parseFloat(f.reduce((function(e,t){return t.price+e}),0)).toFixed(2),v=Number.parseFloat(b*O).toFixed(2),y=Number.parseFloat(+O+ +v).toFixed(2);function S(){t.length>0&&(null!==a?""===j?alert("Select your state."):(alert("Thank you for your purchase!"),i.forEach((function(e){t.includes(e.id)&&(e.inStock=!1,fetch("http://localhost:3000/products/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({inStock:!1})}).then((function(e){return e.json()})).then((function(){r([]),fetch("http://localhost:3000/users/".concat(a.user.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.accessToken)},body:JSON.stringify({cart:[]})})})))}))):alert("Login to complete your purchase."))}var C=A.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}));return Object(u.jsxs)("div",{className:"ui center aligned container",children:[Object(u.jsx)("br",{}),Object(u.jsx)("h2",{children:"Your Cart"}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"ui one column center aligned grid",children:t.length>0?x:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Your cart is empty"}),Object(u.jsx)(d.b,{to:"/",style:D,children:"Get back to shopping"})]})}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"ui basic segment",children:[Object(u.jsxs)("select",{name:"tax-filter",id:"tax-filter","aria-label":"tax filter",className:"ui compact selection dropdown",onChange:function(e){h(e.target.value),E.getSalesTax("US","".concat(e.target.value)).then((function(e){return g(e.rate)}))},value:j,children:[Object(u.jsx)("option",{value:"all",children:"State"}),C]}),Object(u.jsxs)("h4",{children:["Tax (",100*b,"%):\xa0\xa0\xa0\xa0 $",v]}),Object(u.jsxs)("h3",{children:["Total:\xa0\xa0\xa0\xa0 $",y]})]}),Object(u.jsx)("hr",{style:B}),Object(u.jsx)("h5",{children:"Express Checkout"}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"ui one row center aligned grid",children:[Object(u.jsx)("button",{className:"ui basic button",children:Object(u.jsx)("img",{src:"./paypal.png",onClick:S,style:P})}),Object(u.jsx)("button",{className:"ui basic button",children:Object(u.jsx)("img",{src:"./google.png",onClick:S,style:M})}),Object(u.jsx)("button",{className:"ui basic button",children:Object(u.jsx)("img",{src:"./apple.png",onClick:S,style:H})})]})]})};var J=function(e){var t=e.setCurrentUser,i=e.setLoggedIn,n=Object(l.f)(),r=Object(c.useState)(!0),a=Object(s.a)(r,2),o=a[0],d=a[1],j=Object(c.useState)({email:"",password:""}),h=Object(s.a)(j,2),m=h[0],p=h[1];function b(e){var t=e.target.name,i=e.target.value;p(Object(k.a)(Object(k.a)({},m),{},Object(N.a)({},t,i)))}function g(){d((function(e){return!e}))}return Object(u.jsxs)("div",{className:"ui center aligned container",style:{width:"40%"},children:[Object(u.jsx)("br",{}),Object(u.jsx)("h1",{children:o?"Login":"Sign Up"}),Object(u.jsx)("br",{}),Object(u.jsxs)("form",{className:"ui form",onSubmit:function(e){e.preventDefault(),o?fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then((function(e){return e.json()})).then((function(e){"object"!==typeof e?alert(e):(t(e),i(!0),alert("Logged in"),n.push("/"))})):fetch("http://localhost:3000/users").then((function(e){return e.json()})).then((function(e){e.find((function(e){return e.email===m.email}))?alert("Email already taken, login instead."):fetch("http://localhost:3000/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then((function(e){return e.json()})).then((function(e){"object"!==typeof e?alert(e):(t(e),i(!0),alert("Welcome to DunderList!"),n.push("/"))}))})),p({email:"",password:""})},children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:b})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:m.password,onChange:b})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("input",{type:"submit",className:"ui button",value:o?"Login":"Sign Up"})})]}),Object(u.jsx)("br",{}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"field",children:o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:"Don't have an acccount?"}),Object(u.jsx)("button",{className:"ui button",onClick:g,children:"Sign Up"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:"Already have an acccount?"}),Object(u.jsx)("button",{className:"ui button",onClick:g,children:"Login"})]})})]})},U=[{id:1,title:"Homemade Chili",image:"https://res.cloudinary.com/teepublic/image/private/s--AngeSKux--/c_crop,x_10,y_10/c_fit,h_1109/c_crop,g_north_west,h_1260,w_840,x_-93,y_-76/co_rgb:ffffff,e_colorize,u_Misc:One%20Pixel%20Gray/c_scale,g_north_west,h_1260,w_840/fl_layer_apply,g_north_west,x_-93,y_-76/bo_126px_solid_white/e_overlay,fl_layer_apply,h_1260,l_Misc:Art%20Print%20Bumpmap,w_840/e_shadow,x_6,y_6/c_limit,h_1134,w_1134/c_lpad,g_center,h_1260,w_1260/b_rgb:eeeeee/c_limit,f_jpg,h_630,q_90,w_630/v1543192158/production/designs/3577636_0.jpg",price:10,seller:"Kevin Malone",category:"Food",comments:[],inCart:!1,inStock:!0},{id:2,title:"Serenity Candle",image:"https://i.etsystatic.com/18777737/r/il/479cef/2481392604/il_794xN.2481392604_hfnu.jpg",price:20,seller:"Jan Levinson",category:"Home",comments:[],inCart:!1,inStock:!0},{id:3,title:"Organic Beets",image:"https://soilandcellar.files.wordpress.com/2014/03/3-jars.jpg",price:7.99,seller:"Dwight Schrute",category:"Food",comments:[],inCart:!1,inStock:!0},{id:4,title:"Knit Ovenmitten",image:"https://images4-g.ravelrycache.com/uploads/aprilc29/661315446/upload_small2",price:15,seller:"Phyllis Lapin-Vance",category:"Home",comments:[],inCart:!1,inStock:!0},{id:5,title:"Dundie Award",image:"https://m.media-amazon.com/images/I/71KwEPfQA6L._AC_SL1500_.jpg",price:75,seller:"Ryan Howard",category:"Miscellaneous",comments:[],inCart:!1,inStock:!0},{id:6,title:"Dunder Mifflin Paper Ream",image:"https://www.quill.com/is/image/Quill/s1190686_s7?$img400$",price:1.99,seller:"Michael Scott",category:"Miscellaneous",comments:[],inCart:!1,inStock:!0},{id:7,title:"Original Art",image:"https://i5.walmartimages.com/asr/86e194cd-444e-4ac2-8e21-74c7ef707e96_1.63c1dbfe0649fd9ad1168c51834e26ce.jpeg",price:35,seller:"Pam Beesly",category:"Home",comments:[],inCart:!1,inStock:!0},{id:8,title:"Mystery Novel",image:"https://ih1.redbubble.net/image.885040902.8448/hj,750x-pad,750x1000,f8f8f8.u2.jpg",price:35,seller:"Toby Flenderson",category:"Miscellaneous",comments:[],inCart:!1,inStock:!0},{id:9,title:"Shirt",image:"http://www.thebearandthefox.com/wp-content/uploads/2015/04/IMG_0315.jpg",price:5,seller:"Creed Bratton",category:"Apparel",comments:[],inCart:!1,inStock:!0},{id:10,title:"The Hunted album",image:"https://i.etsystatic.com/iap/de315d/1914144174/iap_300x300.1914144174_j8iso99b.jpg?version=0",price:12.99,seller:"Jan Levinson",category:"Entertainment",comments:[],inCart:!1,inStock:!0},{id:11,title:"St. Pauli Girl Neon Sign",image:"https://c1.neweggimages.com/ProductImage/A7AE_1307034070419898264dDzo1kmkH.jpg",price:399.99,seller:"Michael Scott",category:"Home",comments:[],inCart:!1,inStock:!0},{id:12,title:"Somehow I Manage",image:"https://cdn.thisiswhyimbroke.com/buying-guides/89/B10WG-Mpu.jpg",price:9.99,seller:"Michael Scott",category:"Miscellaneous",comments:[],inCart:!1,inStock:!0},{id:13,title:"Ceramic Teapot",image:"https://m.media-amazon.com/images/I/515GLJWeRvL._AC_SS450_.jpg",price:19.99,seller:"Jim Halpert",category:"Home",comments:[],inCart:!1,inStock:!0},{id:14,title:"Scott's Tots T-shirt",image:"https://cdn.thisiswhyimbroke.com/buying-guides/89/scotts-tots-t-shirt.jpg",price:7,seller:"Michael Scott",category:"Apparel",comments:[],inCart:!1,inStock:!0},{id:15,title:"Kitten Poster",image:"https://m.media-amazon.com/images/I/71BGSAOOoyL._AC_SS450_.jpg",price:25,seller:"Angela Martin",category:"Home",comments:[],inCart:!1,inStock:!0},{title:"Harry Styles Calendar",image:"https://images-na.ssl-images-amazon.com/images/I/71qwGu3B7gL.jpg",price:11,category:"Home",seller:"Kelly Kapoor",comments:[],inCart:!1,inStock:!0,id:16},{title:"White Keds (women's size 7)",image:"https://media.kohlsimg.com/is/image/kohls/1128957_White?wid=600&hei=600&op_sharpen=1",price:12,category:"Apparel",seller:"Pam Beesly",comments:[],inCart:!1,inStock:!0,id:17}];var z=function(){var e=Object(c.useState)(U),t=Object(s.a)(e,2),i=t[0],n=t[1],r=Object(c.useState)([]),d=Object(s.a)(r,2),j=d[0],h=d[1],m=Object(c.useState)(""),p=Object(s.a)(m,2),b=p[0],f=p[1],x=Object(c.useState)(""),O=Object(s.a)(x,2),v=O[0],y=O[1],S=Object(c.useState)("all"),N=Object(s.a)(S,2),k=N[0],_=N[1],F=Object(c.useState)([]),L=Object(s.a)(F,2),A=L[0],P=L[1],M=Object(c.useState)([]),H=Object(s.a)(M,2),B=H[0],D=H[1],E=Object(c.useState)([]),z=Object(s.a)(E,2),K=z[0],R=z[1],W=Object(c.useState)(null),G=Object(s.a)(W,2),V=G[0],Y=G[1],$=Object(c.useState)(!1),q=Object(s.a)($,2),Q=q[0],X=q[1],Z=Object(l.g)(),ee=K.map((function(e){return e.name}));function te(e){var t=A.filter((function(t){return t!==e}));P(t),Q&&fetch("http://localhost:3000/users/".concat(V.user.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(V.accessToken)},body:JSON.stringify({cart:t})}).then((function(e){return e.json()})).then((function(e){return e}))}Object(c.useEffect)((function(){console.log(i)}),[]),Object(c.useEffect)((function(){fetch("https://api.tvmaze.com/shows/526/cast").then((function(e){return e.json()})).then((function(e){R(e.map((function(e){return e.character})))}))}),[]),Object(c.useEffect)((function(){Q&&fetch("http://localhost:3000/users/".concat(V.user.id)).then((function(e){return e.json()})).then((function(e){void 0!==e.cart&&0===A.length?P(e.cart):fetch("http://localhost:3000/users/".concat(V.user.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(V.accessToken)},body:JSON.stringify({cart:A})}).then((function(e){return e.json()})).then((function(e){return e})),void 0!==e.likes&&(D(e.likes),n(i))}))}),[Q]),Object(c.useEffect)((function(){"all"!==k&&"/"!==Z.pathname&&_("all")}),[Z]);var ie=i.filter((function(e){return j.length<1?e:j.includes(e.category)})).filter((function(e){return"all"!==k?e.seller===k:e})).filter((function(e){return b?e.title.toLowerCase().includes(b.toLowerCase()):e})).sort((function(e,t){if("relevant"===v){if(e.id>e.id)return-1}else if("priceHighLow"===v){if(e.price>t.price)return-1}else if("priceLowHigh"===v&&e.price<t.price)return-1}));return Object(u.jsxs)("div",{children:[Object(u.jsx)(o.a,{children:Object(u.jsx)(g,{cart:A,loggedIn:Q,setCurrentUser:Y,setLoggedIn:X,setCart:P,setLikes:D})}),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/sell",children:Object(u.jsx)(w,{addProduct:function(e){n([].concat(Object(a.a)(i),[e]))},sellerNames:ee,currentUser:V})}),Object(u.jsx)(l.a,{path:"/about",children:Object(u.jsx)(T,{sellers:K,setSellerFilter:_,products:i})}),Object(u.jsx)(l.a,{path:"/cart",children:Object(u.jsx)(I,{cart:A,products:i,removeFromCart:te,setCart:P,currentUser:V})}),Object(u.jsx)(l.a,{path:"/login",children:Object(u.jsx)(J,{setCurrentUser:Y,setLoggedIn:X})}),Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(C,{products:ie,setFilter:h,filter:j,search:b,setSearch:f,addToCart:function(e){if(A.includes(e)?P(A):P([].concat(Object(a.a)(A),[e])),Q){var t=[].concat(Object(a.a)(A),[e]);fetch("http://localhost:3000/users/".concat(V.user.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(V.accessToken)},body:JSON.stringify({cart:t})}).then((function(e){return e.json()})).then((function(e){return e}))}},removeFromCart:te,setSort:y,cart:A,sellerNames:ee,setSellerFilter:_,sellerFilter:k,addLikes:function(e){if(Q){var t=[].concat(Object(a.a)(B),[e]);fetch("http://localhost:3000/users/".concat(V.user.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(V.accessToken)},body:JSON.stringify({likes:t})}).then((function(e){return e.json()})).then((function(){return D([].concat(Object(a.a)(B),[e]))}))}else alert("Login to like an item.")},likes:B,removeLikes:function(e){if(Q){var t=B.filter((function(t){return t!==e}));fetch("http://localhost:3000/users/".concat(V.user.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(V.accessToken)},body:JSON.stringify({likes:t})}).then((function(e){return e.json()})).then((function(){return D(t)}))}}})})]})]})},K=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,456)).then((function(t){var i=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;i(e),c(e),n(e),r(e),a(e)}))};i(450);r.a.render(Object(u.jsx)(d.a,{children:Object(u.jsx)(z,{})}),document.getElementById("root")),K()}},[[451,1,2]]]);
//# sourceMappingURL=main.e56defc7.chunk.js.map