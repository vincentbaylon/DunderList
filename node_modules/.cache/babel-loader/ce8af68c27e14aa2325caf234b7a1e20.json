{"ast":null,"code":"import _defineProperty from\"/Users/vinceboogie/Development/DunderList/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/vinceboogie/Development/DunderList/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/vinceboogie/Development/DunderList/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(_ref){var setCurrentUser=_ref.setCurrentUser,setLoggedIn=_ref.setLoggedIn;var history=useHistory();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var _useState3=useState({email:'',password:''}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var divStyle={width:'40%'};function handleChange(e){var name=e.target.name;var value=e.target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));}function handleSubmit(e){e.preventDefault();if(login){fetch('http://localhost:3000/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)}).then(function(res){return res.json();}).then(function(data){if(typeof data!=='object'){alert(data);}else{setCurrentUser(data);setLoggedIn(true);alert(\"Logged in\");history.push(\"/\");}});}else{fetch('http://localhost:3000/users').then(function(res){return res.json();}).then(function(data){var findUser=data.find(function(eachUser){return eachUser.email===formData.email;});if(findUser){alert(\"Email already taken, login instead.\");}else{fetch('http://localhost:3000/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)}).then(function(res){return res.json();}).then(function(data){if(typeof data!=='object'){alert(data);}else{setCurrentUser(data);setLoggedIn(true);alert(\"Welcome to DunderList!\");history.push(\"/\");}});}});}setFormData({email:'',password:''});}function handleClick(){setLogin(function(login){return!login;});}return/*#__PURE__*/_jsxs(\"div\",{className:\"ui center aligned container\",style:divStyle,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:login?\"Login\":\"Sign Up\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"ui form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"ui button\",value:login?\"Login\":\"Sign Up\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:login?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Don't have an acccount?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ui button\",onClick:handleClick,children:\"Sign Up\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Already have an acccount?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ui button\",onClick:handleClick,children:\"Login\"})]})})]});}export default Login;","map":{"version":3,"sources":["/Users/vinceboogie/Development/DunderList/src/Components/Login.js"],"names":["useState","useHistory","Login","setCurrentUser","setLoggedIn","history","login","setLogin","email","password","formData","setFormData","divStyle","width","handleChange","e","name","target","value","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","alert","push","findUser","find","eachUser","handleClick"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nfunction Login({ setCurrentUser, setLoggedIn }) {\n    const history = useHistory()\n    const [login, setLogin] = useState(true)\n    const [formData, setFormData] = useState({\n        email: '',\n        password: ''\n    })\n\n    const divStyle = {\n        width: '40%',\n    }\n\n    function handleChange(e) {\n        let name = e.target.name\n        let value = e.target.value\n\n        setFormData({ ...formData, [name]: value })\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n\n        if (login) {\n            fetch('http://localhost:3000/login', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(formData)\n            })\n            .then(res => res.json())\n            .then(data => {\n                if (typeof data !== 'object') {\n                    alert(data)\n                } else {\n                    setCurrentUser(data)\n                    setLoggedIn(true)\n                    alert(\"Logged in\")\n                    history.push(\"/\")\n                }\n            })\n        } else {\n            fetch('http://localhost:3000/users')\n            .then(res => res.json())\n            .then(data => {\n                let findUser = data.find((eachUser) => eachUser.email === formData.email)\n                if (findUser) {\n                    alert(\"Email already taken, login instead.\")\n                } else {\n                    fetch('http://localhost:3000/users', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify(formData)\n                    })\n                    .then(res => res.json())\n                    .then(data => {\n                        if (typeof data !== 'object') {\n                            alert(data)\n                        } else {\n                            setCurrentUser(data)\n                            setLoggedIn(true)\n                            alert(\"Welcome to DunderList!\")\n                            history.push(\"/\")\n                        }\n                    })\n                }\n            })\n        }\n\n        setFormData({\n            email: '',\n            password: ''\n        })\n    }\n\n    function handleClick() {\n        setLogin(login => !login)\n    }\n\n    return (\n        <div className=\"ui center aligned container\" style={divStyle}>\n            <br></br>\n            <h1>{login ? \"Login\" : \"Sign Up\"}</h1>\n            <br></br>\n\n            <form className=\"ui form\" onSubmit={handleSubmit}>\n                <div className=\"field\">\n                    <input type=\"email\" name=\"email\" placeholder=\"Email\" value={formData.email} onChange={handleChange}></input>\n                </div>\n                <div className=\"field\">\n                    <input type=\"password\" name=\"password\" placeholder=\"Password\" value={formData.password} onChange={handleChange}></input>\n                </div>\n                <div className=\"field\">\n                    <input type=\"submit\" className=\"ui button\" value={login ? \"Login\" : \"Sign Up\"}></input>\n                </div>                \n            </form>\n            <br></br>\n            <hr></hr>\n            <div className=\"field\">\n                {login ? \n                    <>\n                    <p>Don't have an acccount?</p>\n                    <button className=\"ui button\" onClick={handleClick}>Sign Up</button>\n                    </> : \n                    <>\n                    <p>Already have an acccount?</p>\n                    <button className=\"ui button\" onClick={handleClick}>Login</button>\n                    </>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}